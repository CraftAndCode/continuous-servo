# Сервомоторы

```package
core
radio
microphone
servo
```

```template
basic.forever(function () {
	
})
```

```blocks
basic.forever(function () {
	
})
```
## Step 0 @showDialog
Привет! Сегодня мы узнаем, что такое сервомоторы, какие они бывают и где применяются.
## Step 1 @showDialog
### Виды сервомоторов
Сервомоторами называют устройства, которые преобразуют электрическую энергию во вращательное движение. Сервомотор представляет собой неподвижный корпус с вращающейся стрелкой, на которой можно что-нибудь закрепить. В робототехнике их часто используют для поворота шарниров робота или управления его колёсами.
В отличие от обычных моторов, их работу можно контроллировать программой.

Существует два вида сервомоторов:
- `Позиционные сервомоторы` позволяют задавать своё положение с точностью до градуса. Если такой сервомотор расположен в шарнире робота и соединяет два его звена, он позволяет повернуть их на необходимый угол, однако этот угол ограничен, и сервомотор не может поворачиваться на 360 градусов.
- `Сервомоторы полного оборота` позволяют регулировать скорость и направление своего вращения, но не могут задавать точное положение. Их чаще используют в колёсных роботах.
Существуют сервомоторы, объединяющие плюсы обоих видов, но они требуют более сложной системы управления.
## Step 2 @showDialog
### Давай начнём!
Сегодня мы напишем программы для управления сервомотором полного оборота. Перед тем как начать, убедись, что он подключен к Miccro:bit согласно схеме:
![](https://github.com/CraftAndCode/test/blob/master/Servoconnection.png?raw=true)

## Step 3 @showDialog
### Управление сервомотором
Блок ``||servos.непрерывный запуск серво||``, расположенный внутри вкладки ``||servos.сервоприводы||``, задаёт скорость и направление вращения. В полях ввода необходимо указать контакт, к которому подключён сервомотор, и число от -100 до 100.  
Чем больше введённое число, тем больше будет скорость вращения сервопривода. Знак "минус" обозначает вращение в обратную сторону.
-  100% - максимальная скорость в направлении по часовой стрелке.  
- -100% - максимальная скорость в обратном направлении против часовой стрелки.  
```block
servos.P0.run(50)
```
## Step 3.5 @showHint
### Управление сервомотором
Давай добавим этот блок в нашу программу! В полях ввода выбери контакт ``P0`` и максимальную скорость вращения ``100``%.
Загрузи программу в Micro:bit. Что получилось?
```blocks
servos.P0.run(100)
```
## Step 4 @showHint
### Поворачиваем обратно
Теперь давай соберём программу, которая будет вращать сервомотор в разных направлениях по нажатию разных кнопок.
```hint
Мы показали здесь только половину программы.
Сможешь собрать вторую половину?
```
```blocks
input.onButtonPressed(Button.A, function () {
    servos.P0.run(-100)
})

```
## Step 5 @showDialog
### Ответ: Программа целиком
```blocks
input.onButtonPressed(Button.A, function () {
    servos.P0.run(-100)
})
input.onButtonPressed(Button.B, function () {
    servos.P0.run(100)
})
```

## Step 6 @showHint
### А теперь - остановка 
Если программа собрана верно, то теперь сервопривод крутится в двух направлениях, но не останавливается. Давай исправим это!  
Нам понадобится блок ``||servos.остановить серво||``. В поле ввода выберем контакт `P0` и добавим его внутрь блока ``||input.кнопка A+B нажата||``, чтобы сервомотор остановился при нажатии двух кнопок одновременно.
## Step 7
### Меняем скорость
Как мы уже знаем, изменение мощности между 0% и 100% влияет на скорость. Предлагаем проверить это самостоятельно. При какой минимальной мощности мотор всё ещё будет крутиться?

## Step 8 @showHint
### Пример: Умный вентилятор
В этом примере на сервомоторе закреплён пропеллер вентилятора. Программа собрана так, что скорость его вращения зависит от показаний датчика температуры.
```blocks
basic.forever(function () {
    servos.P0.run(input.temperature() * 2)
})

```
## Step 9
### Теперь твой черёд!
Давай проверим наши знания! Используя блоки управления сервомотором и блок ``||basic.пауза||``, собери программму, которая выполнит следующие действия:
- вращение по часовой стрелке с максимальной скоростью в течение 1 секунды;
- полная остановка на две секунды;
- вращение против часовой стрелки с половиной мощности;
- полная остановка.
## Step 10 @showDialog
### Ответы: Теперь твой черёд!

```blocks
servos.P0.run(100)
basic.pause(1000)
servos.P0.stop()
basic.pause(2000)
servos.P0.run(-50)
basic.pause(1000)
servos.P0.stop()
```
## Step 11
Теперь ты знаешь всё об управлении сервомотором полного оборота. Отлично!  
Чтобы использовать блоки управления сервомотором в собственном проекте, тебе нужно будет добавить в него расширение ``servo`` из вкладки `||Math.Расширенные||`-`||Math.Расширения||`.